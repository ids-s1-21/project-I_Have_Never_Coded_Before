---
title: "codingru"
output: html_document
---
```{r load-packages, include = FALSE}
# Add any additional packages you need to this chunk
library(tidyverse)
library(tidymodels)
library(palmerpenguins)
library(knitr)
library(xaringanthemer)
library(here)
```


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r splitting_data}
police_data <- read_csv(here("data/Innocent Deaths caused by Police (All time).csv"))
head(police_data)


set.seed(32)
police_split <- initial_split(police_data, prop = 0.8)
train_data <- training(police_split)
test_data <- testing(police_split)
```

## Including Plots

You can also embed plots, for example:
```{r data}
police_data <- read_csv(here("data/Innocent Deaths caused by Police (All time).csv"))
head(police_data)
police_data <- subset(police_data, select = -c(6, 8, 13, 21, 22, 23, 26))
police_data <- rename(police_data, unique_id = `Unique ID`, name = Name, age = Age, gender = Gender, race = Race, doi = `Date of injury resulting in death (month/day/year)`, state = State, lod_zip_code = `Location of death (zip code)` , lod_county = `Location of death (county)`, latitude = Latitude, longitude = Longitude,  agency_involved = `Agency or agencies involved`, hlof = `Highest level of force`, alleged_weapon = `Alleged weapon`, agressive_movement = `Aggressive physical movement`, fleeing_not_fleeing = `Fleeing/Not fleeing`, dispositions_exclusions =`Dispositions/Exclusions INTERNAL USE, NOT FOR ANALYSIS`, iuof = `Intended use of force (Developing)`, mental_illness = `Foreknowledge of mental illness`)
police_data1 <- police_data %>%
  filter(age < 18)
ggplot(police_data1,
       aes(x = age)) +
  geom_histogram() + 
  scale_y_log10()
```
```{r linear_regression}
linear_reg() %>%
  set_engine("lm") %>%
  fit(age ~ race, data = police_data) %>%
  tidy()

linear_reg() %>%
  set_engine("lm") %>%
  fit(age ~ agressive_movement, data = police_data) %>%
  tidy()
```
For each additional year they are older, certain races have a different chance of dying by the police. In this scenario on average African-American/Black average age when killed by the police is 31 years old. On average if an Asian/Pacific Islander dies from the police they are on average 3 years older than an African-American/Black. The rest can be seen, all in comparison to African-American/Black


```{r u16}
police_data1 
linear_reg() %>%
  set_engine("lm") %>%
  fit(age ~ state, data = police_data1) %>%
  tidy() 
```

```{r innocent}
#create a histogram with frequency and alleged weapon

```


```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
